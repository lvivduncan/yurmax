// https://github.com/lvivduncan/levus-onslide-slider
{ const e = document.querySelector("#levus-slider"); if (null !== e) { const t = e.querySelectorAll("article"), s = t[0], d = e.querySelector("#levus-left"), o = e.querySelector("#levus-right"); let i = 0; const r = t.length - 1; function hideArrow() { d.classList.add("hide"), o.classList.add("hide"), e.addEventListener("mouseover", () => { d.removeAttribute("class"), o.removeAttribute("class") }), e.addEventListener("mouseout", () => { d.classList.add("hide"), o.classList.add("hide") }) } function autoScroll() { setInterval(() => { t.forEach(e => e.removeAttribute("class")), i < r ? i++ : i = 0, t[i].classList.add("show") }, 8e3) } d.addEventListener("click", () => { setTimeout(() => { t.forEach(e => e.removeAttribute("class")), i < r ? i++ : i = 0, t[i].classList.add("show") }, 500) }), o.addEventListener("click", () => { setTimeout(() => { t.forEach(e => e.removeAttribute("class")), 0 === i ? i = r : i--, t[i].classList.add("show") }, 500) }), document.addEventListener("DOMContentLoaded", () => window.innerWidth < 1200 ? autoScroll() : hideArrow()), document.addEventListener("DOMContentLoaded", () => s.classList.add("show")), window.addEventListener("resize", () => window.innerWidth < 1200 ? autoScroll() : hideArrow()) } }

// https://github.com/lvivduncan/levus-sort
{ const t = document.querySelectorAll("#levus-buttons span"), e = document.querySelectorAll("#levus-items figure"); function sort(t) { const s = []; e.forEach(e => s.push(e.dataset.item.split(",")[t])), isNaN(+s[0]) ? s.sort() : s.sort((t, e) => t - e), e.forEach(e => { s.forEach((o, r) => { o == e.dataset.item.split(",")[t] && (e.style.order = s.indexOf(s[r])) }) }) } function sortByName() { sort(0) } function sortByPrice() { sort(1) } function sortBySize() { sort(2) } t.length > 0 && (t[0].addEventListener("click", sortByName), t[1].addEventListener("click", sortByPrice), t[2].addEventListener("click", sortBySize)) }

// https://github.com/lvivduncan/levus-shop (upgrade 31-10-2020)
"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _classCallCheck(t,e){if(!_instanceof(t,e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var BASKET="basket",Basket=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getBasketButton",value:function(){return document.querySelector("#basket-button")}},{key:"getQuantity",value:function(){return document.querySelector("#basket-quantity")}},{key:"getSum",value:function(){return document.querySelector("#basket-sum")}},{key:"getGoods",value:function(){return document.querySelector("#basket-goods")}},{key:"getClear",value:function(){return document.querySelector("#basket-clear")}},{key:"viewBasketButton",value:function(){Storage.has()?(t.getBasketButton().innerHTML=Storage.get().reduce(function(t,e){return t+ +e.number},0),t.getBasketButton().style.display="block"):(t.getBasketButton().innerHTML="",t.getBasketButton().style.display="none")}},{key:"viewQuantity",value:function(){return Storage.get().reduce(function(t,e){return t+ +e.number},0)}},{key:"viewSum",value:function(){return Storage.get().reduce(function(t,e){return t+e.price*e.number},0)}},{key:"viewGoods",value:function(){return Storage.get().reduce(function(t,e,n){return t+'<p data-id="'.concat(n,'"><i></i><b>').concat(e.name,"</b>, ").concat(e.size,": ").concat(e.price,", ").concat(e.number,"</p>")},"")}},{key:"removeGoods",value:function(e){if("I"===e.target.tagName){var n=e.target.parentNode.dataset.id;Storage.remove(n),t.reload(),Checkout.reload(),Form.reload()}}},{key:"clearBasket",value:function(){Storage.clear(),Checkout.reload(),Form.reload(),t.getQuantity().innerHTML=0,t.getSum().innerHTML=0,t.getGoods().innerHTML=""}},{key:"reload",value:function(){t.getQuantity()&&(Storage.has()?(t.getQuantity().innerHTML=t.viewQuantity(),t.getSum().innerHTML=t.viewSum(),t.getGoods().innerHTML=t.viewGoods()):(t.getQuantity().innerHTML=0,t.getSum().innerHTML=0,t.getGoods().innerHTML="")),t.viewBasketButton()}}]),t}(),Items=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getItems",value:function(){return document.querySelectorAll(".button")}},{key:"toBasket",value:function(){var t={name:this.dataset.name,size:this.dataset.size,price:this.dataset.price,number:"1",img:this.dataset.img};Storage.has()?Storage.add(t):Storage.set(t),Basket.reload(),$.fancybox.open("<b>".concat(this.dataset.name,"</b> додано у кошик!")),setTimeout(function(){$.fancybox.close()},2e3)}}]),t}(),Storage=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"has",value:function(){return null!==localStorage.getItem(BASKET)}},{key:"get",value:function(){return JSON.parse(localStorage.getItem(BASKET))}},{key:"set",value:function(t){if(Array.isArray(t))localStorage.setItem(BASKET,JSON.stringify(t));else{var e=[];e.push(t),localStorage.setItem(BASKET,JSON.stringify(e))}}},{key:"add",value:function(t){var e=JSON.parse(localStorage.getItem(BASKET));e.find(function(e){return e.name===t.name})?e.find(function(e){return e.name===t.name}).number++:e.push(t);localStorage.setItem(BASKET,JSON.stringify(e))}},{key:"clear",value:function(){localStorage.clear(BASKET)}},{key:"remove",value:function(t){var e=JSON.parse(localStorage.getItem(BASKET));e.splice(t,1),0===e.length?localStorage.removeItem(BASKET):localStorage.setItem(BASKET,JSON.stringify(e))}}]),t}(),Checkout=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getOrderGoods",value:function(){return document.querySelector("#order-goods")}},{key:"getOrderSum",value:function(){return document.querySelector("#order-sum")}},{key:"viewGoods",value:function(){if(Storage.has())return Storage.get().reduce(function(t,e,n){return t+'<div data-id="'.concat(n,'" class="product">\t<div class="product-img"><img src="').concat(e.img,'" alt="">\t</div>\t<div class="product-name">').concat(e.name,'</div>\t<div class="product-size">').concat(e.size,'</div>\t<div class="product-price"><small>').concat(e.price,"грн</small> <p>").concat(e.price*e.number,'грн</p>\t</div>\t<div class="product-quantity"><span class="minus"></span><span class="number">').concat(e.number,'</span><span class="plus"></span>\t</div>\t<div class="product-delete"><i></i>\t</div>\t</div>')},"")}},{key:"hiddenGoods",value:function(){if(Storage.has())return Storage.get().reduce(function(t,e,n){return t+"".concat(e.name," (").concat(e.number," шт); ")},"")}},{key:"viewSum",value:function(){if(Storage.has())return Storage.get().map(function(t){return t.price*t.number}).reduce(function(t,e){return t+ +e},0)}},{key:"changeGoods",value:function(e){var n=e.target.parentNode.parentNode.dataset.id,r=Storage.get();"I"===e.target.tagName?(r.splice(n,1),0===r.length?Storage.clear():Storage.set(r)):"minus"===e.target.className?r[n].number>1?r[n].number--:r.splice(n,1):"plus"===e.target.className&&r[n].number++,Storage.set(r),t.reload(),Basket.reload(),Form.reload()}},{key:"reload",value:function(){null!==t.getOrderGoods()&&(Storage.has()?(t.getOrderGoods().innerHTML=t.viewGoods(),t.getOrderSum().innerHTML=t.viewSum(),Form.reload()):(t.getOrderGoods().innerHTML="",t.getOrderSum().innerHTML="")),Basket.viewBasketButton()}}]),t}(),Form=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"reload",value:function(){null!==document.querySelector("#order-form")&&(Storage.has()?document.querySelector("#order-form").innerHTML='<form id="form">\t<p><input type="text" placeholder="Ім\'я" name="name"></p>\t<p><input type="text" placeholder="Телефон" name="phone"></p>\t<p><textarea placeholder="Примітка" name="message"></textarea></p>\t<input type="hidden" value="'.concat(Checkout.hiddenGoods(),'" name="goods">\t<input type="submit" value="Замовити!"></form>\n'):document.querySelector("#order-form").innerHTML="")}}]),t}();Items.getItems().forEach(function(t){return t.addEventListener("click",Items.toBasket)}),Basket.getClear()&&Basket.getClear().addEventListener("click",Basket.clearBasket),Basket.reload(),Basket.getGoods()&&Basket.getGoods().addEventListener("click",Basket.removeGoods),Checkout.reload(),Checkout.getOrderGoods()&&Checkout.getOrderGoods().addEventListener("click",function(t){return Checkout.changeGoods(t)});